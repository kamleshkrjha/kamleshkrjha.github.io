!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";n(i(1));var s=n(i(3));function n(t){return t&&t.__esModule?t:{default:t}}!function(){var t,e,i,n,o,r=document.getElementById("myCanvas"),a=myCanvas.getContext("2d"),l=[],c=[],h=null,u=0,d=0,y=document.querySelector("#start"),m=document.querySelector("#exit"),f="topScores",p={TTB:"ttb",BTT:"btt",LTR:"ltr",RTL:"rtl"},v=[{radiusOfCoin:20,gapBetweenCoins:10,primary:"image",primaryMoveDir:p.TTB,gameAreaWidth:510,gameAreaHeight:400,secondary:"android-image",secondaryDisplacement:50,secondaryWidth:60,secondaryHeight:90,secondaryInitialX:0},{radiusOfCoin:10,gapBetweenCoins:4,gameAreaWidth:484,gameAreaHeight:360,primary:"square",primaryMoveDir:p.TTB,secondary:"platform",secondaryDisplacement:24,secondaryWidth:40,secondaryHeight:20,secondaryInitialX:4},{radiusOfCoin:40,gapBetweenCoins:20,primary:"square",primaryMoveDir:p.TTB,gameAreaWidth:320,gameAreaHeight:400,secondary:"platform",secondaryDisplacement:100,secondaryWidth:80,secondaryHeight:40,secondaryInitialX:20},{radiusOfCoin:40,gapBetweenCoins:20,primary:"image",primaryMoveDir:p.TTB,gameAreaWidth:320,gameAreaHeight:400,secondary:"android-image",secondaryDisplacement:100,secondaryWidth:80,secondaryHeight:120,secondaryInitialX:20},{radiusOfCoin:10,gapBetweenCoins:4,primary:"circle",primaryMoveDir:p.TTB,secondary:"android",gameAreaWidth:484,gameAreaHeight:400,secondaryDisplacement:24,secondaryWidth:28,secondaryHeight:42,secondaryInitialX:0},{radiusOfCoin:10,gapBetweenCoins:4,primary:"square",primaryMoveDir:p.LTR,secondary:"android-image",gameAreaWidth:360,gameAreaHeight:360,hasOnlyBombs:!0,secondaryDisplacement:50,secondaryWidth:60,secondaryHeight:90,secondaryInitialX:0,levelTime:10}],g=v[0];function x(){var t="";JSON.parse(localStorage[f]).top5.forEach(function(e){t+="<li>"+e+"</li>"}),document.querySelector(".top5").innerHTML=t}function P(t){return Math.floor(Math.random()*t+1)}function b(t,e){var i=document.querySelector(".flash");i.style.display="block",i.style.color=e?"green":"red",i.querySelector("span").innerText=t,setTimeout(function(){i.style.display="none"},1e3)}function w(){i&&clearTimeout(i),n&&clearInterval(n);for(var e=0;e<l.length;e++)l[e].removeTimers();for(e=0;e<c.length;e++)c[e].removeTimers();l=[],c=[],h=null,document.body.removeEventListener("keydown",L),null,a.clearRect(0,0,r.width,r.height),a.font="40px Georgia",a.fillStyle="red",a.fillText("Game Over! ",20,100),function(){var e=JSON.parse(localStorage[f]).top5;(e.length<5||t>e[4])&&(e.push(t),e.sort(function(t,e){return e-t}),e.length>5&&e.splice(5,1)),localStorage[f]=JSON.stringify({top5:e})}(),x()}function T(){h.x-h.dx>=0&&(h.clear(),h.x=h.x-h.dx,h.create())}function E(){console.log(h.dx),h.x+h.w+h.dx<=r.width&&(h.clear(),h.x=h.x+h.dx,h.create())}function S(){if(h.y===r.height-h.h){h.clear(),h.y=h.y-2*h.dx,h.create();setTimeout(function(){h.clear(),h.y=h.y+2*h.dx,h.create()},200)}}function B(){var t=new I(h.x+h.w/2,h.y);c.push(t),t.create(),t.move()}function L(t){if(t.preventDefault(),13!==t.keyCode&&e)return!1;switch(t.keyCode){case 37:T();break;case 38:S();break;case 39:E();break;case 32:B();break;case 13:!function(){if(e){e=!1;for(var t=0;t<l.length;t++)l[t].move();for(t=0;t<c.length;t++)c[t].move()}else{for(e=!0,t=0;t<l.length;t++)l[t].removeTimers();for(t=0;t<c.length;t++)c[t].removeTimers()}}();break;case 27:w()}}function O(t,e){switch(e){case p.TTB:return t.lastPos.y>r.height;case p.BTT:return t.lastPos.y<0;case p.LTR:return t.lastPos.x>r.width;case p.RTL:return t.lastPos.x<0}}function C(t,e){return t.y2&&t.y2>=e.y1&&(t.x2>e.x1&&t.x2<=e.x2||t.x1>=e.x1&&t.x1<e.x2||t.x1<=e.x1&&t.x2>=e.x2)}function M(t,e){this.timer=setInterval(function(){switch(this.clear(),t){case"ttb":this.lastPos.y+=P(2);break;case"btt":this.lastPos.y-=P(2);break;case"ltr":this.lastPos.x+=P(2);break;case"rtl":this.lastPos.x-=P(2)}e()}.bind(this),this.delay)}r.width=g.gameAreaWidth,r.height=g.gameAreaHeight;var k=function(t,e,i,s){if(this.initialPos=t,this.w=e,this.h=i,this.x=t.x,this.y=t.y,this.dx=s||this.w,this.r=this.h/2,this.lastPos,this.timer,"android-image"===g.secondary){var n=new Image;n.src="assets/android-icon.png",this.img=n}};k.prototype.create=function(){var t=g.radiusOfCoin,e=g.secondary,i=g.gapBetweenCoins;this.lastPos||(this.lastPos={},this.lastPos.x=this.initialPos.x,this.lastPos.y=this.initialPos.y),a.fillStyle="#3399FF","android"===e?(a.beginPath(),a.rect(this.x,this.y,t/2,this.h/3),a.arc(this.x+this.w/2,this.y+i+t/2,t/2,0,2*Math.PI),a.rect(this.x+this.w-t/2,this.y,t/2,this.h/3),a.rect(this.x+t/2,this.y+this.h/3,t+2*i,this.h/3),a.rect(this.x+t/2,this.y+2*this.h/3,t/2,this.h/3),a.rect(this.x+t+2*i,this.y+2*this.h/3,t/2,this.h/3),a.closePath(),a.fill()):"android-image"===e?a.drawImage(this.img,this.x,this.y,this.w,this.h):a.fillRect(this.x,this.y,this.w,this.h)},k.prototype.clear=function(){a.clearRect(this.x,this.y,this.w,this.h)},k.prototype.init=function(){"function"==typeof Object.create?this.lastPos=Object.create(this.initialPos):(this.lastPos.x=this.initialPos.x,this.lastPos.y=this.initialPos.y),this.create()},k.prototype.removeTimers=function(){this.timer&&clearInterval(this.timer)};var H=function(t,e,i,s,n){this.initialPos=t,this.r=e,this.delay=i,this.ctx=s,this.lastPos,this.timer,this.isBomb=n||g.hasOnlyBombs,"image"===g.primary&&(this.img=new Image)};H.prototype.clear=function(){this.lastPos||(this.lastPos={},this.lastPos.x=this.initialPos.x,this.lastPos.y=this.initialPos.y),a.clearRect(this.lastPos.x,this.lastPos.y,2*this.r,2*this.r)},H.prototype.create=function(){switch(this.lastPos||(this.lastPos={},this.lastPos.x=this.initialPos.x,this.lastPos.y=this.initialPos.y),g.primary){case"image":this.img.src=this.isBomb?"assets/devil-icon.png":"assets/happy.png",a.drawImage(this.img,this.lastPos.x,this.lastPos.y,2*this.r,2*this.r);break;case"circle":a.beginPath(),a.arc(this.lastPos.x+this.r,this.lastPos.y+this.r,this.r,0,2*Math.PI),this.isBomb?a.fillStyle="red":a.fillStyle="gold",a.fill();break;case"square":a.beginPath(),a.rect(this.lastPos.x,this.lastPos.y,2*this.r,2*this.r),this.isBomb?a.fillStyle="red":a.fillStyle="gold",a.fill()}},H.prototype.init=function(){"function"==typeof Object.create?this.lastPos=Object.create(this.initialPos):(this.lastPos.x=this.initialPos.x,this.lastPos.y=this.initialPos.y),g.hasOnlyBombs?this.isBomb=!0:P(20)%3?this.isBomb=!1:this.isBomb=!0,this.delay=P(10)/2,clearInterval(this.timer),this.create(),this.move()},H.prototype.move=function(){M.call(this,g.primaryMoveDir,function(){if(this.clear(),O(this,g.primaryMoveDir))this.init();else if(C({x1:this.lastPos.x,x2:this.lastPos.x+2*this.r,y1:this.lastPos.y,y2:this.lastPos.y+2*this.r},{x1:h.x,x2:h.x+h.w,y1:h.y,y2:h.y+h.h})){if(this.isBomb)return void m.click();h.clear(),h.create(),t+=1,document.querySelector(".count").innerText=t,this.init()}else this.create()}.bind(this))},H.prototype.removeTimers=function(){this.timer&&clearInterval(this.timer)};var I=function(t,e){this.x=t,this.y=e-6,this.lastPos={x:this.x,y:this.y},this.timer,this.getWidth=function(){return 6},this.getHeight=function(){return 6},this.coinIndex=Math.floor(t/(2*(g.radiusOfCoin+g.gapBetweenCoins)))};I.prototype.create=function(){a.fillStyle="black",a.fillRect(this.lastPos.x,this.lastPos.y,this.getWidth(),this.getHeight())},I.prototype.clear=function(){a.clearRect(this.lastPos.x,this.lastPos.y,this.getWidth(),this.getHeight())},I.prototype.removeTimers=function(){this.timer&&clearInterval(this.timer)},I.prototype.move=function(){M.call(this,"btt",function(){if(this.clear(),O(this,"btt"))this.removeTimers();else{var e=function(){for(var t=null,e=0;e<l.length&&!C({x1:(t=l[e]).lastPos.x,x2:t.lastPos.x+2*t.r,y1:t.lastPos.y,y2:t.lastPos.y+2*t.r},{x1:this.lastPos.x,x2:this.lastPos.x+this.getWidth(),y1:this.lastPos.y,y2:this.lastPos.y+this.getHeight()});e++);return l[e]||null}.call(this);e?(e.isBomb?t+=2:t-=1,document.querySelector(".count").innerText=t,e.clear(),e.init(),this.removeTimers()):this.create()}}.bind(this))},document.querySelector(".nav-items").addEventListener("click",function(t){m.click();for(var e=t.srcElement,i=0;i<this.children.length;i++){if(this.children[i]===e)break}g=v[i],console.log(g),r.width=g.gameAreaWidth,r.height=g.gameAreaHeight,t.preventDefault(),e.classList.contains("active")||(e.classList.add("active"),function(t){for(var e=[];t.nextElementSibling;)t=t.nextElementSibling,e.push(t);return e}(e).concat(function(t){for(var e=[];t.previousElementSibling;)t=t.previousElementSibling,e.push(t);return e}(e)).forEach(function(t){t.classList.remove("active")}))}),localStorage&&(localStorage[f]?x():localStorage[f]=JSON.stringify({top5:[]})),y.addEventListener("click",function(i){!function(i,a,y){i.clearRect(0,0,r.width,r.height),t=0,l=[],c=[],u=0,d=0;var f=null,v=0,x=2*a;if(function i(){n&&clearInterval(n),o=g.levelTime||30,d+=30+10*u,document.querySelector(".level").innerText=u+1,document.querySelector(".target").innerText=d,document.querySelector(".timeRemaining").innerText=o,n=setInterval(function(){e||(o<0?clearInterval(n):0==o?d>t?(b("Level "+(u+1)+" Not complete!",!1),console.log("level failed"),m.click()):(b("Level "+(u+=1)+" completed !",!0),i()):(o-=1,document.querySelector(".timeRemaining").innerText=o))},1e3)}(),g.primaryMoveDir===p.TTB||g.primaryMoveDir===p.BTT)for(;v+x<r.width;)f=new H({x:v+y,y:1},a,P(100/6),i,!(P(10)%3)),l.push(f),f.create(),f.move(),v+=x+y;else for(;v+x<r.height-100;)f=new H({x:0,y:v+y},a,P(100/6),i,!(P(10)%3)),l.push(f),f.create(),f.move(),v+=x+y;(function(t,e){var i=t+e,s=g.secondaryWidth||2*i,n=g.secondaryHeight||2*i,o=g.secondaryInitialX||0,a=r.height-n;(h=new k({x:o,y:a},s,n,g.secondaryDisplacement)).init(),h.create()})(a,y),document.body.addEventListener("keydown",L),(0,s.default)(r),r.addEventListener("swipe",function(t){var e=t.detail.directions;e.left&&(console.log("left"),T()),e.right&&(console.log("right"),E()),e.top&&S(),e.bottom&&B()}),document.querySelector(".count").innerText=t}(a,g.radiusOfCoin,g.gapBetweenCoins),this.classList.add("hide"),m.classList.remove("hide")}),m.addEventListener("click",function(t){w(),this.classList.add("hide"),y.classList.remove("hide")})}()},function(t,e,i){},,function(t,e,i){"use strict";var s,n=Object.assign||function(t){for(var e,i=1;i<arguments.length;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},o=function(t,e){if(t){"undefined"!=typeof window&&function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}"function"!=typeof window.CustomEvent&&(t.prototype=window.Event.prototype,window.CustomEvent=t)}(),e||(e={});var i=[],s=!1,o=function(){s=!0},r=function(t){s=!1,l(t)},a=function(t){s&&(t.changedTouches=[{clientX:t.clientX,clientY:t.clientY}],c(t))};(e=n({},{minHorizontal:10,minVertical:10,deltaHorizontal:3,deltaVertical:5,preventScroll:!1,lockAxis:!0,touch:!0,mouse:!0},e)).mouse&&(t.addEventListener("mousedown",o),t.addEventListener("mouseup",r),t.addEventListener("mousemove",a));var l=function(s){var o=Math.abs,r=Math.max,a=Math.min;if(i.length){for(var l="function"==typeof TouchEvent&&s instanceof TouchEvent,c=[],h=[],u={top:!1,right:!1,bottom:!1,left:!1},d=0;d<i.length;d++)c.push(i[d].x),h.push(i[d].y);var y=c[0],m=c[c.length-1],f=h[0],p=h[h.length-1],v={x:[y,m],y:[f,p]};if(1<i.length){var g={detail:n({touch:l},v)},x=new CustomEvent("swiperelease",g);t.dispatchEvent(x)}var P=c[0]-c[c.length-1],b="none";b=0<P?"left":"right";var w=a.apply(Math,c),T=r.apply(Math,c);if(o(P)>=e.minHorizontal&&("left"==b?o(w-c[c.length-1])<=e.deltaHorizontal&&(u.left=!0):"right"==b&&(o(T-c[c.length-1])<=e.deltaHorizontal&&(u.right=!0))),b="none",b=0<(P=h[0]-h[h.length-1])?"top":"bottom",w=a.apply(Math,h),T=r.apply(Math,h),o(P)>=e.minVertical&&("top"==b?o(w-h[h.length-1])<=e.deltaVertical&&(u.top=!0):"bottom"==b&&(o(T-h[h.length-1])<=e.deltaVertical&&(u.bottom=!0))),i=[],u.top||u.right||u.bottom||u.left){e.lockAxis&&((u.left||u.right)&&o(y-m)>o(f-p)?u.top=u.bottom=!1:(u.top||u.bottom)&&o(y-m)<o(f-p)&&(u.left=u.right=!1));var E={detail:n({directions:u,touch:l},v)},S=new CustomEvent("swipe",E);t.dispatchEvent(S)}else{var B=new CustomEvent("swipecancel",{detail:n({touch:l},v)});t.dispatchEvent(B)}}},c=function(s){e.preventScroll&&s.preventDefault();var n=s.changedTouches[0];if(i.push({x:n.clientX,y:n.clientY}),1<i.length){var o={detail:{x:[i[0].x,i[i.length-1].x],y:[i[0].y,i[i.length-1].y],touch:"function"==typeof TouchEvent&&s instanceof TouchEvent}},r=new CustomEvent("swiping",o);t.dispatchEvent(r)}},h=!1;try{var u=Object.defineProperty({},"passive",{get:function(){h={passive:!e.preventScroll}}});window.addEventListener("testPassive",null,u),window.removeEventListener("testPassive",null,u)}catch(t){}return e.touch&&(t.addEventListener("touchmove",c,h),t.addEventListener("touchend",l)),{off:function(){t.removeEventListener("touchmove",c,h),t.removeEventListener("touchend",l),t.removeEventListener("mousedown",o),t.removeEventListener("mouseup",r),t.removeEventListener("mousemove",a)}}}};void 0!==t&&void 0!==t.exports?(t.exports=o,t.exports.default=o):void 0===(s=function(){return o}.apply(e,[]))||(t.exports=s)}]);