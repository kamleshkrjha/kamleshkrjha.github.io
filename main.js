!function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";!function(t){t&&t.__esModule}(i(1));!function(){var t,e,i,s,r,a=document.getElementById("myCanvas"),o=myCanvas.getContext("2d"),n=[],l=[],h=null,c=0,y=0,d=document.querySelector("#start"),u=document.querySelector("#exit"),m="topScores",f={TTB:"ttb",BTT:"btt",LTR:"ltr",RTL:"rtl"},g=[{radiusOfCoin:10,gapBetweenCoins:4,primary:"circle",primaryMoveDir:f.TTB,secondary:"android",gameAreaWidth:484,gameAreaHeight:360,secondaryDisplacement:24,secondaryWidth:28,secondaryHeight:42,secondaryInitialX:0},{radiusOfCoin:20,gapBetweenCoins:10,primary:"image",primaryMoveDir:f.TTB,gameAreaWidth:510,gameAreaHeight:420,secondary:"android-image",secondaryDisplacement:50,secondaryWidth:60,secondaryHeight:90,secondaryInitialX:0},{radiusOfCoin:10,gapBetweenCoins:4,gameAreaWidth:484,gameAreaHeight:360,primary:"square",primaryMoveDir:f.TTB,secondary:"platform",secondaryDisplacement:24,secondaryWidth:40,secondaryHeight:20,secondaryInitialX:4},{radiusOfCoin:40,gapBetweenCoins:20,primary:"square",primaryMoveDir:f.TTB,gameAreaWidth:320,gameAreaHeight:420,secondary:"platform",secondaryDisplacement:100,secondaryWidth:80,secondaryHeight:40,secondaryInitialX:20},{radiusOfCoin:40,gapBetweenCoins:20,primary:"image",primaryMoveDir:f.TTB,gameAreaWidth:320,gameAreaHeight:420,secondary:"android-image",secondaryDisplacement:100,secondaryWidth:80,secondaryHeight:120,secondaryInitialX:20},{radiusOfCoin:10,gapBetweenCoins:4,primary:"square",primaryMoveDir:f.LTR,secondary:"platform",gameAreaWidth:360,gameAreaHeight:360}],p=g[0];function x(){var t="";JSON.parse(localStorage[m]).top5.forEach(function(e){t+="<li>"+e+"</li>"}),document.querySelector(".top5").innerHTML=t}function v(t){return Math.floor(Math.random()*t+1)}function P(t,e){var i=document.querySelector(".flash"),s=document.querySelector("#myCanvas");i.style.top=s.offsetTop+s.height/2,i.style.left=s.offsetLeft,i.style.display="block",i.style.color=e?"green":"red",i.querySelector("span").innerText=t,setTimeout(function(){i.style.display="none"},1e3)}function b(t){if(t.preventDefault(),13!==t.keyCode&&e)return!1;switch(t.keyCode){case 37:h.x-h.dx>=0&&(h.clear(),h.x=h.x-h.dx,h.create());break;case 38:if(h.y===a.height-h.h){h.clear(),h.y=h.y-2*h.dx,h.create();setTimeout(function(){h.clear(),h.y=h.y+2*h.dx,h.create()},200)}break;case 39:h.x+h.w+h.dx<=a.width&&(h.clear(),h.x=h.x+h.dx,h.create());break;case 32:var i=new C(h.x+h.w/2,h.y);l.push(i),i.create(),i.move();break;case 13:if(e){e=!1;for(var s=0;s<n.length;s++)n[s].move();for(s=0;s<l.length;s++)l[s].move()}else{e=!0;for(s=0;s<n.length;s++)n[s].removeTimers();for(s=0;s<l.length;s++)l[s].removeTimers()}}}function T(t,e){switch(e){case f.TTB:return t.lastPos.y>a.height;case f.BTT:return t.lastPos.y<0;case f.LTR:return t.lastPos.x>a.width;case f.RTL:return t.lastPos.x<0}}function w(t,e){return t.y2&&t.y2>=e.y1&&(t.x2>e.x1&&t.x2<=e.x2||t.x1>=e.x1&&t.x1<e.x2||t.x1<=e.x1&&t.x2>=e.x2)}function S(t,e){this.timer=setInterval(function(){switch(this.clear(),t){case"ttb":this.lastPos.y+=v(2);break;case"btt":this.lastPos.y-=v(2);break;case"ltr":this.lastPos.x+=v(2);break;case"rtl":this.lastPos.x-=v(2)}e()}.bind(this),this.delay)}a.width=p.gameAreaWidth,a.height=p.gameAreaHeight;var B=function(t,e,i,s){if(this.initialPos=t,this.w=e,this.h=i,this.x=t.x,this.y=t.y,this.dx=s||this.w,this.r=this.h/2,this.lastPos,this.timer,"android-image"===p.secondary){var r=new Image;r.src="assets/android-icon.png",this.img=r}};B.prototype.create=function(){var t=p.radiusOfCoin,e=p.secondary,i=p.gapBetweenCoins;this.lastPos||(this.lastPos={},this.lastPos.x=this.initialPos.x,this.lastPos.y=this.initialPos.y),o.fillStyle="#3399FF","android"===e?(o.beginPath(),o.rect(this.x,this.y,t/2,this.h/3),o.arc(this.x+this.w/2,this.y+i+t/2,t/2,0,2*Math.PI),o.rect(this.x+this.w-t/2,this.y,t/2,this.h/3),o.rect(this.x+t/2,this.y+this.h/3,t+2*i,this.h/3),o.rect(this.x+t/2,this.y+2*this.h/3,t/2,this.h/3),o.rect(this.x+t+2*i,this.y+2*this.h/3,t/2,this.h/3),o.closePath(),o.fill()):"android-image"===e?o.drawImage(this.img,this.x,this.y,this.w,this.h):o.fillRect(this.x,this.y,this.w,this.h)},B.prototype.clear=function(){o.clearRect(this.x,this.y,this.w,this.h)},B.prototype.init=function(){"function"==typeof Object.create?this.lastPos=Object.create(this.initialPos):(this.lastPos.x=this.initialPos.x,this.lastPos.y=this.initialPos.y)},B.prototype.removeTimers=function(){this.timer&&clearInterval(this.timer)};var O=function(t,e,i,s,r){this.initialPos=t,this.r=e,this.delay=i,this.ctx=s,this.lastPos,this.timer,this.isBomb=r,"image"===p.primary&&(this.img=new Image)};O.prototype.clear=function(){this.lastPos||(this.lastPos={},this.lastPos.x=this.initialPos.x,this.lastPos.y=this.initialPos.y),o.clearRect(this.lastPos.x,this.lastPos.y,2*this.r,2*this.r)},O.prototype.create=function(){switch(this.lastPos||(this.lastPos={},this.lastPos.x=this.initialPos.x,this.lastPos.y=this.initialPos.y),p.primary){case"image":this.img.src=this.isBomb?"assets/devil-icon.png":"assets/happy.png",o.drawImage(this.img,this.lastPos.x,this.lastPos.y,2*this.r,2*this.r);break;case"circle":o.beginPath(),o.arc(this.lastPos.x+this.r,this.lastPos.y+this.r,this.r,0,2*Math.PI),this.isBomb?o.fillStyle="red":o.fillStyle="gold",o.fill();break;case"square":o.beginPath(),o.rect(this.lastPos.x,this.lastPos.y,2*this.r,2*this.r),this.isBomb?o.fillStyle="red":o.fillStyle="gold",o.fill()}},O.prototype.init=function(){"function"==typeof Object.create?this.lastPos=Object.create(this.initialPos):(this.lastPos.x=this.initialPos.x,this.lastPos.y=this.initialPos.y),v(20)%3?this.isBomb=!1:this.isBomb=!0,this.delay=v(10)/2,clearInterval(this.timer),this.create(),this.move()},O.prototype.move=function(){S.call(this,p.primaryMoveDir,function(){if(this.clear(),T(this,p.primaryMoveDir))this.init();else if(w({x1:this.lastPos.x,x2:this.lastPos.x+2*this.r,y1:this.lastPos.y,y2:this.lastPos.y+2*this.r},{x1:h.x,x2:h.x+h.w,y1:h.y,y2:h.y+h.h})){if(this.isBomb)return void u.click();h.clear(),h.create(),t+=1,document.querySelector(".count").innerText=t,this.init()}else this.create()}.bind(this))},O.prototype.removeTimers=function(){this.timer&&clearInterval(this.timer)};var C=function(t,e){this.x=t,this.y=e-6,this.lastPos={x:this.x,y:this.y},this.timer,this.getWidth=function(){return 6},this.getHeight=function(){return 6},this.coinIndex=Math.floor(t/(2*(p.radiusOfCoin+p.gapBetweenCoins)))};C.prototype.create=function(){o.fillStyle="black",o.fillRect(this.lastPos.x,this.lastPos.y,this.getWidth(),this.getHeight())},C.prototype.clear=function(){o.clearRect(this.lastPos.x,this.lastPos.y,this.getWidth(),this.getHeight())},C.prototype.removeTimers=function(){this.timer&&clearInterval(this.timer)},C.prototype.move=function(){S.call(this,"btt",function(){if(this.clear(),T(this,"btt"))this.removeTimers();else{var e=function(){for(var t=null,e=0;e<n.length&&!w({x1:(t=n[e]).lastPos.x,x2:t.lastPos.x+2*t.r,y1:t.lastPos.y,y2:t.lastPos.y+2*t.r},{x1:this.lastPos.x,x2:this.lastPos.x+this.getWidth(),y1:this.lastPos.y,y2:this.lastPos.y+this.getHeight()});e++);return n[e]||null}.call(this);e?(e.isBomb?t+=2:t-=1,document.querySelector(".count").innerText=t,e.clear(),e.init(),this.removeTimers()):this.create()}}.bind(this))},document.querySelector(".nav-items").addEventListener("click",function(t){u.click();for(var e=t.srcElement,i=0;i<this.children.length;i++){if(this.children[i]===e)break}p=g[i],console.log(p),a.width=p.gameAreaWidth,a.height=p.gameAreaHeight,t.preventDefault(),e.classList.contains("active")||(e.classList.add("active"),function(t){for(var e=[];t.nextElementSibling;)t=t.nextElementSibling,e.push(t);return e}(e).concat(function(t){for(var e=[];t.previousElementSibling;)t=t.previousElementSibling,e.push(t);return e}(e)).forEach(function(t){t.classList.remove("active")}))}),localStorage&&(localStorage[m]?x():localStorage[m]=JSON.stringify({top5:[]})),d.addEventListener("click",function(i){!function(i,o,d){i.clearRect(0,0,a.width,a.height),t=0,n=[],l=[],c=0,y=0;var m=null,g=0,x=2*o;if(function i(){s&&clearInterval(s),r=30,y+=30+10*c,document.querySelector(".level").innerText=c+1,document.querySelector(".target").innerText=y,document.querySelector(".timeRemaining").innerText=r,s=setInterval(function(){e||(r<0?clearInterval(s):0==r?y>t?(P("Level "+(c+1)+" Not complete!",!1),console.log("level failed"),u.click()):(P("Level "+(c+=1)+" completed !",!0),i()):(r-=1,document.querySelector(".timeRemaining").innerText=r))},1e3)}(),function(t,e){var i=t+e,s=p.secondaryWidth||2*i,r=p.secondaryHeight||2*i,o=p.secondaryInitialX||0,n=a.height-r;(h=new B({x:o,y:n},s,r,p.secondaryDisplacement)).create()}(o,d),p.primaryMoveDir===f.TTB||p.primaryMoveDir===f.BTT)for(;g+x<a.width;)m=new O({x:g+d,y:1},o,v(100/6),i,!(v(10)%3)),n.push(m),m.create(),m.move(),g+=x+d;else for(;g+x<a.height-100;)m=new O({x:0,y:g+d},o,v(100/6),i,!(v(10)%3)),n.push(m),m.create(),m.move(),g+=x+d;document.querySelector(".count").innerText=t,document.body.addEventListener("keydown",b)}(o,p.radiusOfCoin,p.gapBetweenCoins),this.classList.add("hide"),u.classList.remove("hide")}),u.addEventListener("click",function(e){!function(){i&&clearTimeout(i),s&&clearInterval(s);for(var e=0;e<n.length;e++)n[e].removeTimers();for(var e=0;e<l.length;e++)l[e].removeTimers();n=[],l=[],h=null,document.body.removeEventListener("keydown",b),o.clearRect(0,0,a.width,a.height),o.font="40px Georgia",o.fillStyle="red",o.fillText("Game Over! ",20,100),function(){var e=JSON.parse(localStorage[m]).top5;(e.length<5||t>e[4])&&(e.push(t),e.sort(function(t,e){return e-t}),e.length>5&&e.splice(5,1)),localStorage[m]=JSON.stringify({top5:e})}(),x()}(),this.classList.add("hide"),d.classList.remove("hide")})}()},function(t,e,i){}]);